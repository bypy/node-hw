получить путь к каталогу из командной строки

путь передан?:
	нет > async/ запросить через REPL путь к каталогу ←

это каталог?:
	нет > 	async/ запросить через REPL путь к каталогу ←
	да >	вывести в консоль ("Сканируется каталог такой-то...")
    		async/ список содержимого каталога
            
*** func(путь к каталогу)

    для каждого эл-та списка содержимого каталога:
        к имени прибавить путь к каталогу
        async/ получить свойства объекта файловой системы по пути к нему
        
        элемент = файл?:
            да >	/async есть ли сжатая версия файла?:
                
                    нет > 	вывести (Сжимается файл такой-то)
                            определить имя файла-получателя
                            *** func
                            async/ открыть файл-источник
                            async/pipe считать чанк
                            async/pipe сжать чанк
                            async/pipе записать чанк
                            ***
                            async/ весь файл считан?:
                                да > вывести (Архив такой-то готов)
                    
                    да >	async/ определить дату создания файла
                            async/ определить дату создания архива
                            сравнить дату файла и дату архива
                            архив старше файла?:
                                да > 	вывести (обновляется архив такой-то)
                                        определить временное имя файла-получателя
                                        *** func
                                        async/ открыть файл-источник
                                        async/pipe считать чанк
                                        async/pipe сжать чанк
                                        async/pipе записать чанк
                                        ***
                                        async/ весь файл считан?:
                                            да > вывести (Архив такой-то обновлен)
                                
                                нет >	перейти к следующему элементу каталога
            
            нет >   рекурсивный вызов  func(путь к каталогу)

		конец списка?:
			вывести (работа закончена)       
                        
                    	
                        
                    	
        	